<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Platform Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Command Palette -->
        <div id="command-palette" class="command-palette hidden">
            <div class="palette-overlay" onclick="closeCommandPalette()"></div>
            <div class="palette-container">
                <input type="text" id="palette-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É..." autocomplete="off">
                <div id="palette-results" class="palette-results"></div>
            </div>
        </div>

        <!-- Desktop Sidebar -->
        <aside class="sidebar desktop-only">
            <div class="sidebar-logo">
                <div class="logo-glow"></div>
                <span class="logo-icon">‚óâ</span>
                <span class="logo-text">AI</span>
            </div>
            
            <nav class="sidebar-nav">
                <button class="nav-item active" data-section="chat" onclick="showSection('chat')" data-tooltip="–ß–∞—Ç">
                    <span class="nav-icon">üí¨</span>
                    <span class="nav-label">–ß–∞—Ç</span>
                    <div class="nav-glow"></div>
                </button>
                <button class="nav-item" data-section="projects" onclick="showSection('projects')" data-tooltip="–ü—Ä–æ–µ–∫—Ç—ã">
                    <span class="nav-icon">üìÅ</span>
                    <span class="nav-label">–ü—Ä–æ–µ–∫—Ç—ã</span>
                    <div class="nav-glow"></div>
                </button>
                <button class="nav-item" data-section="media" onclick="showSection('media')" data-tooltip="–ú–µ–¥–∏–∞">
                    <span class="nav-icon">üé®</span>
                    <span class="nav-label">–ú–µ–¥–∏–∞</span>
                    <div class="nav-glow"></div>
                </button>
                <button class="nav-item" data-section="data" onclick="showSection('data')" data-tooltip="–î–∞–Ω–Ω—ã–µ">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-label">–î–∞–Ω–Ω—ã–µ</span>
                    <div class="nav-glow"></div>
                </button>
                <button class="nav-item" data-section="automation" onclick="showSection('automation')" data-tooltip="–ê–≤—Ç–æ">
                    <span class="nav-icon">‚ö°</span>
                    <span class="nav-label">–ê–≤—Ç–æ</span>
                    <div class="nav-glow"></div>
                </button>
                <button class="nav-item" data-section="dashboard" onclick="showSection('dashboard')" data-tooltip="–î–∞—à–±–æ—Ä–¥">
                    <span class="nav-icon">üìà</span>
                    <span class="nav-label">–î–∞—à–±–æ—Ä–¥</span>
                    <div class="nav-glow"></div>
                </button>
            </nav>

            <div class="sidebar-footer">
                <button class="nav-item" onclick="toggleTheme()" data-tooltip="–¢–µ–º–∞">
                    <span class="nav-icon" id="theme-icon">üåô</span>
                    <span class="nav-label">–¢–µ–º–∞</span>
                </button>
                <button class="nav-item" onclick="showSection('profile')" data-tooltip="–ü—Ä–æ—Ñ–∏–ª—å">
                    <span class="nav-icon">üë§</span>
                    <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Toast Container -->
            <div id="toast-container" class="toast-container"></div>

            <!-- Global Progress -->
            <div id="global-progress" class="global-progress hidden">
                <div class="progress-glow"></div>
                <div class="progress-content">
                    <div class="progress-spinner"></div>
                    <span class="progress-text">–û–±—Ä–∞–±–æ—Ç–∫–∞...</span>
                    <button class="btn-cancel" onclick="cancelOperation()">‚úï</button>
                </div>
            </div>

            <!-- API Status Bar -->
            <div class="api-status-bar">
                <div class="status-item" id="status-openai">
                    <span class="status-dot"></span>
                    <span class="status-name">OpenAI</span>
                </div>
                <div class="status-item" id="status-anthropic">
                    <span class="status-dot"></span>
                    <span class="status-name">Claude</span>
                </div>
                <div class="status-item" id="status-grok">
                    <span class="status-dot"></span>
                    <span class="status-name">Grok</span>
                </div>
                <div class="balance-display">
                    <span class="balance-icon">üíé</span>
                    <span id="user-balance">1,250</span>
                </div>
            </div>

            <!-- 1. CHAT SECTION -->
            <section id="chat-section" class="section active">
                <div class="chat-container">
                    <div class="chat-main">
                        <div class="chat-header glass">
                            <div class="chat-title">
                                <h1 class="gradient-text">–ß—Ç–æ —Å–æ–∑–¥–∞–¥–∏–º —Å–µ–≥–æ–¥–Ω—è?</h1>
                                <p class="chat-subtitle">–û–ø–∏—à–∏—Ç–µ –∏–¥–µ—é ‚Äî AI —Å–¥–µ–ª–∞–µ—Ç –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ</p>
                            </div>
                            <div class="chat-actions">
                                <button class="btn-glass" onclick="showCommandPalette()" title="Command Palette (Ctrl+K)">
                                    <span>‚åò</span>
                                </button>
                                <button class="btn-glass" onclick="clearChat()" title="–û—á–∏—Å—Ç–∏—Ç—å">
                                    <span>üóëÔ∏è</span>
                                </button>
                                <button class="btn-glass" onclick="showChatHistory()" title="–ò—Å—Ç–æ—Ä–∏—è">
                                    <span>üìú</span>
                                </button>
                            </div>
                        </div>

                        <div id="chat-messages" class="chat-messages">
                            <div class="welcome-message glass">
                                <div class="welcome-icon">‚ú®</div>
                                <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ AI Platform Pro</h3>
                                <p>–Ø –º–æ–≥—É —Å–æ–∑–¥–∞—Ç—å –¥–ª—è –≤–∞—Å:</p>
                                <div class="welcome-grid">
                                    <div class="welcome-item">
                                        <span>üèóÔ∏è</span>
                                        <small>–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã</small>
                                    </div>
                                    <div class="welcome-item">
                                        <span>üé®</span>
                                        <small>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–∏–¥–µ–æ</small>
                                    </div>
                                    <div class="welcome-item">
                                        <span>üíª</span>
                                        <small>–ö–æ–¥ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É</small>
                                    </div>
                                    <div class="welcome-item">
                                        <span>ü§ñ</span>
                                        <small>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions Panel -->
                        <div class="quick-panel glass">
                            <div class="quick-scroll">
                                <button class="quick-btn gradient-border" onclick="quickAction('create_project')">
                                    <span class="btn-glow"></span>
                                    <span class="btn-content">
                                        <span class="btn-icon">üèóÔ∏è</span>
                                        <span class="btn-text">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</span>
                                    </span>
                                </button>
                                <button class="quick-btn gradient-border" onclick="quickAction('analyze_file')">
                                    <span class="btn-glow"></span>
                                    <span class="btn-content">
                                        <span class="btn-icon">üìÑ</span>
                                        <span class="btn-text">–ê–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–∞</span>
                                    </span>
                                </button>
                                <button class="quick-btn gradient-border" onclick="quickAction('generate_image')">
                                    <span class="btn-glow"></span>
                                    <span class="btn-content">
                                        <span class="btn-icon">üé®</span>
                                        <span class="btn-text">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</span>
                                    </span>
                                </button>
                                <button class="quick-btn gradient-border" onclick="quickAction('write_code')">
                                    <span class="btn-glow"></span>
                                    <span class="btn-content">
                                        <span class="btn-icon">üíª</span>
                                        <span class="btn-text">–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥</span>
                                    </span>
                                </button>
                                <button class="quick-btn gradient-border" onclick="quickAction('business_plan')">
                                    <span class="btn-glow"></span>
                                    <span class="btn-content">
                                        <span class="btn-icon">üìà</span>
                                        <span class="btn-text">–ë–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω</span>
                                    </span>
                                </button>
                                <button class="quick-btn gradient-border" onclick="quickAction('autonomous')">
                                    <span class="btn-glow"></span>
                                    <span class="btn-content">
                                        <span class="btn-icon">ü§ñ</span>
                                        <span class="btn-text">–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º</span>
                                    </span>
                                </button>
                            </div>
                        </div>

                        <!-- Chat Input -->
                        <div class="chat-input-wrapper">
                            <div class="chat-input-container glass">
                                <button class="btn-attach" onclick="showAttachMenu()" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å">
                                    <span class="attach-icon">+</span>
                                </button>
                                <textarea id="chat-input" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∏–¥–µ—é..." rows="1"></textarea>
                                <button class="btn-send gradient-btn" onclick="sendMessage()">
                                    <span class="send-icon">‚û§</span>
                                </button>
                            </div>
                            <div class="input-hints">
                                <span class="hint"><kbd>Enter</kbd> ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</span>
                                <span class="hint"><kbd>Shift</kbd>+<kbd>Enter</kbd> ‚Äî –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞</span>
                                <span class="hint"><kbd>Ctrl</kbd>+<kbd>K</kbd> ‚Äî –∫–æ–º–∞–Ω–¥—ã</span>
                            </div>
                        </div>
                    </div>

                    <!-- Context Panel -->
                    <div id="context-panel" class="context-panel glass hidden">
                        <div class="panel-header">
                            <h3>–ö–æ–Ω—Ç–µ–∫—Å—Ç</h3>
                            <button class="btn-close" onclick="closeContextPanel()">√ó</button>
                        </div>
                        <div class="panel-content" id="context-content"></div>
                    </div>
                </div>
            </section>

            <!-- 2. PROJECTS SECTION -->
            <section id="projects-section" class="section">
                <div class="section-container">
                    <header class="section-header glass">
                        <div class="header-content">
                            <h2 class="gradient-text">–ü—Ä–æ–µ–∫—Ç—ã</h2>
                            <p class="header-subtitle">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∞—à–∏–º–∏ AI-–ø—Ä–æ–µ–∫—Ç–∞–º–∏</p>
                        </div>
                        <button class="btn-primary gradient-btn" onclick="createNewProject()">
                            <span>+</span> –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
                        </button>
                    </header>

                    <div class="projects-stats glass">
                        <div class="stat-item">
                            <span class="stat-number" id="total-projects">0</span>
                            <span class="stat-label">–í—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="active-projects">0</span>
                            <span class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="deployed-projects">0</span>
                            <span class="stat-label">–†–∞–∑–≤—ë—Ä–Ω—É—Ç–æ</span>
                        </div>
                    </div>

                    <div class="projects-grid" id="projects-list">
                        <div class="loading-skeleton">
                            <div class="skeleton-card"></div>
                            <div class="skeleton-card"></div>
                            <div class="skeleton-card"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Project Detail -->
            <section id="project-detail-section" class="section">
                <div class="project-detail">
                    <header class="project-header glass">
                        <button class="btn-back" onclick="showSection('projects')">
                            <span>‚Üê</span> –ù–∞–∑–∞–¥
                        </button>
                        <h2 id="project-detail-title" class="gradient-text">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</h2>
                        <div class="project-actions">
                            <button class="btn-glass" onclick="deployProject()" title="Deploy">
                                <span>üöÄ</span>
                            </button>
                            <button class="btn-glass" onclick="shareProject()" title="Share">
                                <span>üîó</span>
                            </button>
                            <button class="btn-glass" onclick="settingsProject()" title="Settings">
                                <span>‚öôÔ∏è</span>
                            </button>
                        </div>
                    </header>

                    <div class="project-tabs glass">
                        <button class="tab-btn active" onclick="showProjectTab('architecture')">
                            <span>üèóÔ∏è</span> –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
                        </button>
                        <button class="tab-btn" onclick="showProjectTab('code')">
                            <span>üíª</span> –ö–æ–¥
                        </button>
                        <button class="tab-btn" onclick="showProjectTab('infrastructure')">
                            <span>‚òÅÔ∏è</span> –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
                        </button>
                        <button class="tab-btn" onclick="showProjectTab('logs')">
                            <span>üìã</span> –õ–æ–≥–∏
                        </button>
                    </div>

                    <!-- Architecture Tab -->
                    <div id="project-architecture" class="project-tab-content active">
                        <div class="architecture-canvas glass">
                            <div class="arch-flow">
                                <div class="arch-block" data-type="frontend" onclick="editBlock('frontend')">
                                    <div class="block-glow"></div>
                                    <span class="block-icon">üé®</span>
                                    <span class="block-name">Frontend</span>
                                    <span class="block-tech">React + Vite</span>
                                </div>
                                <div class="arch-connector">
                                    <div class="connector-line"></div>
                                    <div class="connector-pulse"></div>
                                </div>
                                <div class="arch-block" data-type="backend" onclick="editBlock('backend')">
                                    <div class="block-glow"></div>
                                    <span class="block-icon">‚öôÔ∏è</span>
                                    <span class="block-name">Backend</span>
                                    <span class="block-tech">FastAPI</span>
                                </div>
                                <div class="arch-connector">
                                    <div class="connector-line"></div>
                                    <div class="connector-pulse"></div>
                                </div>
                                <div class="arch-block" data-type="database" onclick="editBlock('database')">
                                    <div class="block-glow"></div>
                                    <span class="block-icon">üóÑÔ∏è</span>
                                    <span class="block-name">Database</span>
                                    <span class="block-tech">PostgreSQL</span>
                                </div>
                            </div>
                        </div>
                        <div class="architecture-details glass" id="arch-details">
                            <p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –±–ª–æ–∫ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</p>
                        </div>
                    </div>

                    <!-- Code Tab with IDE -->
                    <div id="project-code" class="project-tab-content">
                        <div class="ide-container glass">
                            <div class="file-tree" id="file-tree">
                                <div class="tree-header">
                                    <span>üìÅ –§–∞–π–ª—ã</span>
                                    <button class="btn-icon" onclick="newFile()">+</button>
                                </div>
                                <div class="tree-content" id="tree-content"></div>
                            </div>
                            <div class="code-editor">
                                <div class="editor-tabs" id="editor-tabs"></div>
                                <div class="editor-main">
                                    <textarea id="code-textarea" placeholder="–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è..."></textarea>
                                    <div class="editor-sidebar">
                                        <div class="ai-panel glass">
                                            <h4>ü§ñ AI –ü–æ–º–æ—â–Ω–∏–∫</h4>
                                            <div id="ai-suggestions" class="suggestions-list"></div>
                                            <button class="btn-secondary" onclick="explainCode()">–û–±—ä—è—Å–Ω–∏—Ç—å –∫–æ–¥</button>
                                            <button class="btn-secondary" onclick="optimizeCode()">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                                            <button class="btn-secondary" onclick="fixCode()">–ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Infrastructure Tab -->
                    <div id="project-infrastructure" class="project-tab-content">
                        <div class="infra-grid">
                            <div class="infra-card glass">
                                <div class="infra-header">
                                    <span class="infra-icon">üê≥</span>
                                    <h4>Docker</h4>
                                    <div class="status-badge active">‚óè –†–∞–±–æ—Ç–∞–µ—Ç</div>
                                </div>
                                <div class="infra-stats">
                                    <div class="stat">
                                        <span class="stat-value">3</span>
                                        <span class="stat-label">–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞</span>
                                    </div>
                                    <div class="stat">
                                        <span class="stat-value">128MB</span>
                                        <span class="stat-label">RAM</span>
                                    </div>
                                </div>
                                <button class="btn-secondary" onclick="viewLogs('docker')">–õ–æ–≥–∏</button>
                            </div>

                            <div class="infra-card glass">
                                <div class="infra-header">
                                    <span class="infra-icon">üîÑ</span>
                                    <h4>CI/CD</h4>
                                    <div class="status-badge active">‚óè –ù–∞—Å—Ç—Ä–æ–µ–Ω</div>
                                </div>
                                <div class="infra-stats">
                                    <div class="stat">
                                        <span class="stat-value">12</span>
                                        <span class="stat-label">–î–µ–ø–ª–æ–µ–≤</span>
                                    </div>
                                    <div class="stat">
                                        <span class="stat-value">100%</span>
                                        <span class="stat-label">–£—Å–ø–µ—Ö</span>
                                    </div>
                                </div>
                                <button class="btn-secondary" onclick="viewLogs('cicd')">Pipeline</button>
                            </div>

                            <div class="infra-card glass">
                                <div class="infra-header">
                                    <span class="infra-icon">üìä</span>
                                    <h4>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</h4>
                                    <div class="status-badge warning">‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å</div>
                                </div>
                                <div class="infra-stats">
                                    <div class="stat">
                                        <span class="stat-value">99.9%</span>
                                        <span class="stat-label">Uptime</span>
                                    </div>
                                </div>
                                <button class="btn-secondary" onclick="setupMonitoring()">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å</button>
                            </div>

                            <div class="infra-card glass">
                                <div class="infra-header">
                                    <span class="infra-icon">‚ö†Ô∏è</span>
                                    <h4>–û—à–∏–±–∫–∏</h4>
                                    <div class="status-badge danger">‚óè 2 –∞–∫—Ç–∏–≤–Ω—ã—Ö</div>
                                </div>
                                <div class="infra-stats">
                                    <div class="stat">
                                        <span class="stat-value">2</span>
                                        <span class="stat-label">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö</span>
                                    </div>
                                    <div class="stat">
                                        <span class="stat-value">5</span>
                                        <span class="stat-label">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π</span>
                                    </div>
                                </div>
                                <button class="btn-secondary" onclick="viewErrors()">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                            </div>
                        </div>
                    </div>

                    <!-- Logs Tab -->
                    <div id="project-logs" class="project-tab-content">
                        <div class="logs-container glass">
                            <div class="logs-header">
                                <select id="log-source">
                                    <option>–í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏</option>
                                    <option>Frontend</option>
                                    <option>Backend</option>
                                    <option>Database</option>
                                </select>
                                <button class="btn-secondary" onclick="clearLogs()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                                <button class="btn-secondary" onclick="exportLogs()">–≠–∫—Å–ø–æ—Ä—Ç</button>
                            </div>
                            <div class="logs-content" id="logs-content"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 3. MEDIA SECTION -->
            <section id="media-section" class="section">
                <div class="media-container">
                    <div class="media-sidebar glass">
                        <h3>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è</h3>
                        <nav class="media-nav">
                            <button class="media-nav-item active" onclick="showMediaType('images')">
                                <span class="nav-icon">üñºÔ∏è</span>
                                <span>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                                <div class="nav-glow"></div>
                            </button>
                            <button class="media-nav-item" onclick="showMediaType('video')">
                                <span class="nav-icon">üé¨</span>
                                <span>–í–∏–¥–µ–æ</span>
                                <div class="nav-glow"></div>
                            </button>
                            <button class="media-nav-item" onclick="showMediaType('audio')">
                                <span class="nav-icon">üéµ</span>
                                <span>–ê—É–¥–∏–æ</span>
                                <div class="nav-glow"></div>
                            </button>
                            <button class="media-nav-item" onclick="showMediaType('3d')">
                                <span class="nav-icon">üßä</span>
                                <span>3D –ú–æ–¥–µ–ª–∏</span>
                                <div class="nav-glow"></div>
                            </button>
                            <button class="media-nav-item" onclick="showMediaType('music')">
                                <span class="nav-icon">üéπ</span>
                                <span>–ú—É–∑—ã–∫–∞</span>
                                <div class="nav-glow"></div>
                            </button>
                        </nav>
                    </div>

                    <div class="media-workspace">
                        <!-- Images -->
                        <div id="media-images" class="media-type active">
                            <div class="media-input-area glass">
                                <div class="input-header">
                                    <h4>–°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h4>
                                    <div class="model-selector">
                                        <select id="image-model" class="glass-select">
                                            <option value="sdxl">SDXL</option>
                                            <option value="dalle3">DALL-E 3</option>
                                            <option value="midjourney">Midjourney V6</option>
                                            <option value="kandinsky">Kandinsky</option>
                                        </select>
                                    </div>
                                </div>
                                <textarea id="image-prompt" class="glass-input" placeholder="–û–ø–∏—à–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ... –ù–∞–ø—Ä–∏–º–µ—Ä: '–ö–∏–±–µ—Ä–ø–∞–Ω–∫ –≥–æ—Ä–æ–¥ –≤ –Ω–µ–æ–Ω–æ–≤—ã—Ö –æ–≥–Ω—è—Ö, –¥–æ–∂–¥—å, —Ñ—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å, 8k'"></textarea>
                                
                                <div class="generation-options">
                                    <div class="option-group">
                                        <label>–†–∞–∑–º–µ—Ä</label>
                                        <select id="image-size" class="glass-select">
                                            <option value="1024x1024">1024√ó1024</option>
                                            <option value="1024x768">1024√ó768</option>
                                            <option value="768x1024">768√ó1024</option>
                                            <option value="1920x1080">1920√ó1080</option>
                                        </select>
                                    </div>
                                    <div class="option-group">
                                        <label>–°—Ç–∏–ª—å</label>
                                        <select id="image-style" class="glass-select">
                                            <option>–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π</option>
                                            <option>–ê–Ω–∏–º–µ</option>
                                            <option>3D –†–µ–Ω–¥–µ—Ä</option>
                                            <option>–ú–∞—Å–ª–æ</option>
                                            <option>–ö–∏–±–µ—Ä–ø–∞–Ω–∫</option>
                                        </select>
                                    </div>
                                    <div class="option-group">
                                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</label>
                                        <input type="number" value="1" min="1" max="4" class="glass-input small">
                                    </div>
                                </div>

                                <button class="btn-generate gradient-btn" onclick="generateImage()">
                                    <span class="btn-icon">‚ú®</span>
                                    <span>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</span>
                                    <span class="cost">-25 üíé</span>
                                </button>
                            </div>

                            <div class="generation-progress hidden" id="image-progress">
                                <div class="progress-visual">
                                    <div class="progress-ring">
                                        <div class="ring-segment"></div>
                                        <div class="ring-segment"></div>
                                        <div class="ring-segment"></div>
                                        <div class="ring-center">
                                            <span id="progress-percent">0%</span>
                                        </div>
                                    </div>
                                </div>
                                <p class="progress-status">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏...</p>
                            </div>

                            <div class="media-result" id="image-result"></div>
                        </div>

                        <!-- Video -->
                        <div id="media-video" class="media-type">
                            <div class="media-input-area glass">
                                <h4>–í–∏–¥–µ–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</h4>
                                <textarea id="video-prompt" class="glass-input" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∏–¥–µ–æ..."></textarea>
                                <div class="generation-options">
                                    <div class="option-group">
                                        <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</label>
                                        <select class="glass-select">
                                            <option>4 —Å–µ–∫—É–Ω–¥—ã</option>
                                            <option>8 —Å–µ–∫—É–Ω–¥</option>
                                            <option>15 —Å–µ–∫—É–Ω–¥</option>
                                        </select>
                                    </div>
                                    <div class="option-group">
                                        <label>–ö–∞—á–µ—Å—Ç–≤–æ</label>
                                        <select class="glass-select">
                                            <option>720p</option>
                                            <option>1080p</option>
                                        </select>
                                    </div>
                                </div>
                                <button class="btn-generate gradient-btn" onclick="generateVideo()">
                                    <span class="btn-icon">üé¨</span>
                                    <span>–°–æ–∑–¥–∞—Ç—å –≤–∏–¥–µ–æ</span>
                                    <span class="cost">-100 üíé</span>
                                </button>
                            </div>
                        </div>

                        <!-- Audio -->
                        <div id="media-audio" class="media-type">
                            <div class="media-input-area glass">
                                <h4>–¢–µ–∫—Å—Ç –≤ —Ä–µ—á—å</h4>
                                <textarea id="audio-text" class="glass-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –æ–∑–≤—É—á–∫–∏..."></textarea>
                                <div class="generation-options">
                                    <div class="option-group">
                                        <label>–ì–æ–ª–æ—Å</label>
                                        <select class="glass-select">
                                            <option>–ê–Ω–Ω–∞ (RU)</option>
                                            <option>–ú–∞–∫—Å–∏–º (RU)</option>
                                            <option>Emma (EN)</option>
                                            <option>James (EN)</option>
                                        </select>
                                    </div>
                                    <div class="option-group">
                                        <label>–°–∫–æ—Ä–æ—Å—Ç—å</label>
                                        <input type="range" min="0.5" max="2" step="0.1" value="1" class="glass-slider">
                                    </div>
                                </div>
                                <button class="btn-generate gradient-btn" onclick="textToSpeech()">
                                    <span class="btn-icon">üé§</span>
                                    <span>–û–∑–≤—É—á–∏—Ç—å</span>
                                    <span class="cost">-5 üíé</span>
                                </button>
                            </div>
                        </div>

                        <!-- 3D -->
                        <div id="media-3d" class="media-type">
                            <div class="media-input-area glass">
                                <h4>3D –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ</h4>
                                <textarea class="glass-input" placeholder="–û–ø–∏—à–∏—Ç–µ 3D –º–æ–¥–µ–ª—å..."></textarea>
                                <button class="btn-generate gradient-btn">
                                    <span class="btn-icon">üßä</span>
                                    <span>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 3D</span>
                                    <span class="cost">-150 üíé</span>
                                </button>
                            </div>
                        </div>

                        <!-- Music -->
                        <div id="media-music" class="media-type">
                            <div class="media-input-area glass">
                                <h4>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º—É–∑—ã–∫–∏</h4>
                                <textarea class="glass-input" placeholder="–ñ–∞–Ω—Ä, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã..."></textarea>
                                <div class="generation-options">
                                    <div class="option-group">
                                        <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</label>
                                        <select class="glass-select">
                                            <option>30 —Å–µ–∫</option>
                                            <option>1 –º–∏–Ω</option>
                                            <option>3 –º–∏–Ω</option>
                                        </select>
                                    </div>
                                </div>
                                <button class="btn-generate gradient-btn">
                                    <span class="btn-icon">üéπ</span>
                                    <span>–°–æ–∑–¥–∞—Ç—å –º—É–∑—ã–∫—É</span>
                                    <span class="cost">-75 üíé</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="media-history glass">
                        <h4>–ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π</h4>
                        <div id="media-history-list" class="history-grid"></div>
                    </div>
                </div>
            </section>

            <!-- 4. DATA SECTION -->
            <section id="data-section" class="section">
                <div class="data-container">
                    <div class="data-nav glass">
                        <button class="data-nav-btn active" onclick="showDataTab('rag')">
                            <span>üß†</span> RAG –°–∏—Å—Ç–µ–º–∞
                        </button>
                        <button class="data-nav-btn" onclick="showDataTab('documents')">
                            <span>üìÑ</span> –î–æ–∫—É–º–µ–Ω—Ç—ã
                        </button>
                        <button class="data-nav-btn" onclick="showDataTab('nlp')">
                            <span>üí¨</span> NLP –∫ –ë–î
                        </button>
                        <button class="data-nav-btn" onclick="showDataTab('analytics')">
                            <span>üìä</span> –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
                        </button>
                    </div>

                    <!-- RAG -->
                    <div id="data-rag" class="data-content active">
                        <div class="rag-layout">
                            <div class="collections-panel glass">
                                <div class="panel-header">
                                    <h4>–ë–∞–∑—ã –∑–Ω–∞–Ω–∏–π</h4>
                                    <button class="btn-icon" onclick="createCollection()">+</button>
                                </div>
                                <div id="collections-list" class="collections-list">
                                    <div class="collection-item active">
                                        <div class="collection-icon">üìÅ</div>
                                        <div class="collection-info">
                                            <span class="collection-name">–û—Å–Ω–æ–≤–Ω–∞—è</span>
                                            <span class="collection-meta">24 –¥–æ–∫—É–º–µ–Ω—Ç–∞</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="rag-chat glass">
                                <div class="rag-messages" id="rag-messages"></div>
                                <div class="rag-input">
                                    <input type="text" id="rag-input-field" class="glass-input" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º...">
                                    <button class="btn-send gradient-btn" onclick="sendRAGMessage()">‚û§</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Documents -->
                    <div id="data-documents" class="data-content">
                        <div class="upload-zone glass" onclick="uploadDocument()">
                            <div class="upload-icon">üìÑ</div>
                            <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞</p>
                            <small>PDF, DOCX, TXT –¥–æ 50MB</small>
                        </div>
                        <div class="documents-list" id="documents-list"></div>
                    </div>

                    <!-- NLP -->
                    <div id="data-nlp" class="data-content">
                        <div class="nlp-interface glass">
                            <div class="nlp-examples">
                                <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:</p>
                                <div class="example-chips">
                                    <button onclick="executeNLP('–ø–æ–∫–∞–∂–∏ –ø—Ä–æ–¥–∞–∂–∏ –∑–∞ —è–Ω–≤–∞—Ä—å')">"–ü—Ä–æ–¥–∞–∂–∏ –∑–∞ —è–Ω–≤–∞—Ä—å"</button>
                                    <button onclick="executeNLP('—Å–æ–∑–¥–∞–π —Ç–∞–±–ª–∏—Ü—É –∫–ª–∏–µ–Ω—Ç–æ–≤')">"–¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤"</button>
                                    <button onclick="executeNLP('–≥—Ä–∞—Ñ–∏–∫ —Ä–æ—Å—Ç–∞')">"–ì—Ä–∞—Ñ–∏–∫ —Ä–æ—Å—Ç–∞"</button>
                                </div>
                            </div>
                            <div class="nlp-chat" id="nlp-chat"></div>
                        </div>
                    </div>

                    <!-- Analytics -->
                    <div id="data-analytics" class="data-content">
                        <div class="analytics-dashboard">
                            <div class="chart-card glass">
                                <h4>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é</h4>
                                <div class="chart-placeholder">
                                    <div class="bar-chart">
                                        <div class="bar" style="height: 40%"></div>
                                        <div class="bar" style="height: 70%"></div>
                                        <div class="bar" style="height: 50%"></div>
                                        <div class="bar" style="height: 90%"></div>
                                        <div class="bar" style="height: 60%"></div>
                                        <div class="bar" style="height: 80%"></div>
                                        <div class="bar" style="height: 100%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 5. AUTOMATION SECTION -->
            <section id="automation-section" class="section">
                <div class="automation-container">
                    <header class="section-header glass">
                        <div class="header-content">
                            <h2 class="gradient-text">–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</h2>
                            <p class="header-subtitle">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ workflows –±–µ–∑ –∫–æ–¥–∞</p>
                        </div>
                        <button class="btn-primary gradient-btn" onclick="createWorkflow()">
                            <span>+</span> –ù–æ–≤—ã–π workflow
                        </button>
                    </header>

                    <div class="workflows-list" id="workflows-list">
                        <div class="workflow-card glass">
                            <div class="workflow-visual">
                                <div class="node trigger">‚ö° Webhook</div>
                                <div class="connection"></div>
                                <div class="node action">ü§ñ AI –ê–Ω–∞–ª–∏–∑</div>
                                <div class="connection"></div>
                                <div class="node action">üì± Telegram</div>
                            </div>
                            <div class="workflow-info">
                                <h4>–ê–≤—Ç–æ-–ø–æ—Å—Ç–∏–Ω–≥</h4>
                                <p>–ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫: 2 –º–∏–Ω –Ω–∞–∑–∞–¥</p>
                            </div>
                            <div class="workflow-actions">
                                <button class="btn-glass" onclick="editWorkflow(1)">‚úèÔ∏è</button>
                                <button class="btn-glass active" onclick="toggleWorkflow(1)">‚è∏Ô∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Workflow Builder -->
                    <div id="workflow-builder" class="workflow-builder hidden">
                        <div class="builder-canvas glass">
                            <div class="canvas-grid"></div>
                            <div class="workflow-node trigger" draggable="true">
                                <span>‚ö° –¢—Ä–∏–≥–≥–µ—Ä</span>
                            </div>
                        </div>
                        <div class="builder-sidebar glass">
                            <h4>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</h4>
                            <div class="component-list">
                                <div class="component-item" draggable="true">
                                    <span>üìß</span> Email
                                </div>
                                <div class="component-item" draggable="true">
                                    <span>ü§ñ</span> AI
                                </div>
                                <div class="component-item" draggable="true">
                                    <span>üíæ</span> –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 6. DASHBOARD SECTION -->
            <section id="dashboard-section" class="section">
                <div class="dashboard-container">
                    <header class="section-header glass">
                        <h2 class="gradient-text">–î–∞—à–±–æ—Ä–¥</h2>
                    </header>

                    <div class="dashboard-grid">
                        <div class="dash-card glass wide">
                            <h4>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤</h4>
                            <div class="token-chart">
                                <div class="chart-line"></div>
                            </div>
                        </div>
                        
                        <div class="dash-card glass">
                            <h4>–ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã</h4>
                            <div class="big-number" id="dash-projects">12</div>
                            <div class="trend up">+23% –∑–∞ –Ω–µ–¥–µ–ª—é</div>
                        </div>

                        <div class="dash-card glass">
                            <h4>–ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–µ–≥–æ–¥–Ω—è</h4>
                            <div class="big-number" id="dash-generations">48</div>
                            <div class="trend up">+12% –≤—á–µ—Ä–∞</div>
                        </div>

                        <div class="dash-card glass wide">
                            <h4>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h4>
                            <div class="activity-list" id="activity-list"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 7. PROFILE SECTION -->
            <section id="profile-section" class="section">
                <div class="profile-container">
                    <div class="profile-header glass">
                        <div class="avatar-large">
                            <span id="profile-avatar">üë§</span>
                            <div class="avatar-glow"></div>
                        </div>
                        <div class="profile-info">
                            <h2 id="profile-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>
                            <p id="profile-email">user@example.com</p>
                            <div class="profile-badges">
                                <span class="badge pro">PRO</span>
                                <span class="badge">üéØ Level 5</span>
                            </div>
                        </div>
                        <button class="btn-glass" onclick="editProfile()">‚úèÔ∏è</button>
                    </div>

                    <div class="profile-stats glass">
                        <div class="stat-card">
                            <div class="stat-icon">üíé</div>
                            <span class="stat-value" id="balance">1,250</span>
                            <span class="stat-label">–ë–∞–ª–∞–Ω—Å</span>
                            <button class="btn-secondary" onclick="addFunds()">+ –ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìÅ</div>
                            <span class="stat-value" id="projects-count">8</span>
                            <span class="stat-label">–ü—Ä–æ–µ–∫—Ç—ã</span>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üöÄ</div>
                            <span class="stat-value" id="requests-count">1.2k</span>
                            <span class="stat-label">–ó–∞–ø—Ä–æ—Å—ã</span>
                        </div>
                    </div>

                    <div class="profile-sections">
                        <div class="profile-section glass">
                            <h3>üîë API –ö–ª—é—á–∏</h3>
                            <div class="api-keys-list" id="api-keys-list">
                                <div class="api-key-item">
                                    <div class="key-info">
                                        <span class="key-name">OpenAI</span>
                                        <span class="key-status connected">‚úì –ü–æ–¥–∫–ª—é—á–µ–Ω–æ</span>
                                    </div>
                                    <button class="btn-secondary" onclick="addApiKey('openai')">–û–±–Ω–æ–≤–∏—Ç—å</button>
                                </div>
                                <div class="api-key-item">
                                    <div class="key-info">
                                        <span class="key-name">Anthropic</span>
                                        <span class="key-status">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</span>
                                    </div>
                                    <button class="btn-secondary" onclick="addApiKey('anthropic')">–ü–æ–¥–∫–ª—é—á–∏—Ç—å</button>
                                </div>
                            </div>
                        </div>

                        <div class="profile-section glass">
                            <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                            <div class="settings-list">
                                <label class="setting-item">
                                    <span>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</span>
                                    <select id="work-mode" class="glass-select">
                                        <option value="simple">–ü—Ä–æ—Å—Ç–æ–π</option>
                                        <option value="pro">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π</option>
                                        <option value="autonomous">–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π</option>
                                    </select>
                                </label>
                                <label class="setting-item">
                                    <span>–¢–µ–º–∞</span>
                                    <select id="theme-select" class="glass-select" onchange="changeTheme(this.value)">
                                        <option value="dark">–¢—ë–º–Ω–∞—è –Ω–µ–æ–Ω</option>
                                        <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                                        <option value="midnight">–ü–æ–ª–Ω–æ—á—å</option>
                                    </select>
                                </label>
                                <label class="setting-item">
                                    <span>–Ø–∑—ã–∫</span>
                                    <select id="language-select" class="glass-select">
                                        <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                                        <option value="en">English</option>
                                    </select>
                                </label>
                            </div>
                        </div>

                        <div class="profile-section glass">
                            <h3>üìä –õ–∏–º–∏—Ç—ã</h3>
                            <div class="limits-list">
                                <div class="limit-item">
                                    <div class="limit-header">
                                        <span>–¢–æ–∫–µ–Ω—ã –≤ –¥–µ–Ω—å</span>
                                        <span>45k / 100k</span>
                                    </div>
                                    <div class="progress-bar glass">
                                        <div class="progress-fill" style="width: 45%"></div>
                                    </div>
                                </div>
                                <div class="limit-item">
                                    <div class="limit-header">
                                        <span>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                                        <span>10 / 50</span>
                                    </div>
                                    <div class="progress-bar glass">
                                        <div class="progress-fill" style="width: 20%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Mobile Bottom Navigation -->
        <nav class="mobile-nav mobile-only">
            <button class="mobile-nav-item active" onclick="showSection('chat')">
                <span class="nav-icon">üí¨</span>
                <span class="nav-label">–ß–∞—Ç</span>
            </button>
            <button class="mobile-nav-item" onclick="showSection('projects')">
                <span class="nav-icon">üìÅ</span>
                <span class="nav-label">–ü—Ä–æ–µ–∫—Ç—ã</span>
            </button>
            <button class="mobile-nav-item center" onclick="showQuickActions()">
                <span class="nav-icon">+</span>
            </button>
            <button class="mobile-nav-item" onclick="showSection('media')">
                <span class="nav-icon">üé®</span>
                <span class="nav-label">–ú–µ–¥–∏–∞</span>
            </button>
            <button class="mobile-nav-item" onclick="showSection('profile')">
                <span class="nav-icon">üë§</span>
                <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>

        <!-- Modal -->
        <div id="modal-overlay" class="modal-overlay hidden">
            <div class="modal glass" id="modal-content"></div>
        </div>

        <!-- Quick Actions Sheet (Mobile) -->
        <div id="quick-actions-sheet" class="bottom-sheet hidden">
            <div class="sheet-overlay" onclick="hideQuickActions()"></div>
            <div class="sheet-content glass">
                <div class="sheet-header">
                    <div class="sheet-handle"></div>
                    <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                </div>
                <div class="sheet-actions">
                    <button onclick="quickAction('create_project'); hideQuickActions()">
                        <span>üèóÔ∏è</span> –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
                    </button>
                    <button onclick="quickAction('generate_image'); hideQuickActions()">
                        <span>üé®</span> –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    </button>
                    <button onclick="quickAction('write_code'); hideQuickActions()">
                        <span>üíª</span> –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥
                    </button>
                    <button onclick="showCommandPalette(); hideQuickActions()">
                        <span>‚åò</span> –ö–æ–º–∞–Ω–¥—ã
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
